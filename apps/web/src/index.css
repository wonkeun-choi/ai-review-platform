@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ===== Base ===== */
@layer base {
  html, body, #root { height:100%; width:100%; margin:0; padding:0; }
  body {
    color:#e9edf6; background:#0A0D14;
    font-family:'Plus Jakarta Sans','Inter Tight',ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    letter-spacing:.2px;
  }
  a { text-decoration:none; color:inherit; }
}

/* ===== Scrollbar ===== */
.custom-scrollbar::-webkit-scrollbar{ width:8px }
.custom-scrollbar::-webkit-scrollbar-track{ background:#142033; border-radius:4px }
.custom-scrollbar::-webkit-scrollbar-thumb{ background:#32486d; border-radius:4px }
.custom-scrollbar::-webkit-scrollbar-thumb:hover{ background:#48659a }

/* ===== Keyframes / Theme ===== */
@theme {
  @keyframes gradient-x { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }
  @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
  @keyframes shimmer { 0%{background-position:-200% 0} 100%{background-position:200% 0} }
}

/* ===== Background (Aurora) ===== */
.bg-app{
  position: relative;
  z-index: 0;                    /* 스태킹 컨텍스트 생성 */
  min-height: 100vh;
  overflow: hidden;
  background:
    radial-gradient(1200px 600px at 50% -130px, rgba(102,167,255,.22), transparent 60%),
    radial-gradient(1000px 420px at 50% 115%, rgba(4,10,22,.92), transparent 60%),
    #0A0D14;
}
/* 흐르는 오로라 레이어 */
.bg-app::before{
  content:"";
  position:absolute; inset:-10%;
  background:
    radial-gradient(800px 500px at 30% 20%, rgba(100,160,255,.25), transparent 70%),
    radial-gradient(900px 600px at 70% 80%, rgba(120,90,255,.22), transparent 70%);
  animation: aurora 20s linear infinite alternate;
  filter: blur(90px);
  z-index: 0;
}
.bg-app::after{
  content:""; position:absolute; inset:-20%;
  background: conic-gradient(from 120deg, rgba(50,120,255,.14), rgba(110,70,255,.12), rgba(70,210,255,.10), transparent 55%);
  filter: blur(70px); animation: gradient-x 18s ease-in-out infinite;
  pointer-events:none; z-index: 0;
}
/* 자식은 항상 배경 위로 */
.bg-app > * { position: relative; z-index: 1; }

@keyframes aurora {
  0% { transform: translateY(-8%) scale(1.08); }
  100% { transform: translateY(8%) scale(1.03); }
}

/* ===== Gradient-border Card ===== */
.gcard{
  position:relative; border-radius:18px; padding:1px;
  background:linear-gradient(180deg, rgba(120,180,255,.55), rgba(106,76,255,.45), rgba(40,160,255,.35));
}
.ginner{
  border-radius:17px; background:rgba(12,18,32,.82); backdrop-filter:blur(12px);
  box-shadow:0 14px 42px rgba(0,0,0,.48), inset 0 1px 0 rgba(255,255,255,.04);
}
.gheader{
  border-bottom:1px solid rgba(140,170,255,.18);
  font-size: 22px; font-weight: 700; padding: 20px;
  letter-spacing:.3px; color:#eaf1ff;
}

/* ===== Title (Deep Glow toned-down) ===== */
.title-glow{
  position: relative;
  color:#d9e2ff;
  font-weight:800; letter-spacing:.02em;
  text-shadow:
    0 0 10px rgba(140,180,255,.45),
    0 0 24px rgba(110,100,255,.36);
}
.title-glow::after{
  content: attr(data-text);
  position:absolute; left:0; top:0; width:100%;
  color: transparent;
  background: radial-gradient(circle at 50% 50%, rgba(160,180,255,.35), transparent 60%);
  filter: blur(20px); opacity:.35; z-index:-1;
}

/* ===== Glass sheen (inner highlight) ===== */
.glass-sheen{ position: relative; }
.glass-sheen::before{
  content:""; position:absolute; inset:0; border-radius:17px;
  background:
    radial-gradient(120% 60% at 50% -10%, rgba(255,255,255,.07), transparent 42%),
    radial-gradient(80% 50% at 50% 120%, rgba(0,0,0,.28), transparent 52%);
  pointer-events:none;
}

/* ===== Neon Button (interaction) ===== */
.btn-neon{
  color:#fff; font-weight:700;
  padding:14px 22px; border-radius:0.9rem;
  transition:all .28s cubic-bezier(.2,.8,.2,1);
  outline:none; border:none;
  background-image: linear-gradient(90deg,#2649ff,#4661ff,#1f7bff);
  background-size:200% auto;
  box-shadow:
    0 0 0 1px rgba(80,120,255,.25),
    0 10px 28px rgba(0,40,255,.35);
}
.btn-neon:hover{
  transform: translateY(-2px) scale(1.02);
  background-position: right center;
  box-shadow:
    0 0 10px rgba(120,160,255,.55),
    0 0 40px rgba(80,120,255,.25);
}
.btn-neon:active{ transform: translateY(0) scale(.98); filter:brightness(.92); }
.btn-neon:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }

/* ===== Inputs focus (soft glow) ===== */
textarea{
  transition: box-shadow .28s ease, border-color .28s ease;
  border: 1px solid rgba(80,110,160,.35);
  border-radius: 12px;
}
textarea:focus{
  outline:none;
  box-shadow: 0 0 15px rgba(90,150,255,.25);
  border-color: rgba(110,150,255,.55);
}

/* ===== Prose tweaks ===== */
.prose-elite :where(code):not(:where(pre code)){
  padding: 2px 6px; border-radius: 6px;
  background-color: rgba(30,41,59,.7); color:#7dd3fc;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: .95em;
}
.prose-elite pre{
  background-color: rgba(15,23,42,.7);
  border:1px solid rgba(51,65,85,.4);
  border-radius: .6rem; padding: 1rem;
}
.prose-elite strong{ color:#93c5fd; }
.prose-elite a{
  color:#7dd3fc; text-decoration: underline; text-underline-offset: 4px;
}

/* ===== Skeleton shimmer ===== */
.skeleton{
  background:linear-gradient(90deg,rgba(255,255,255,.06) 25%,rgba(255,255,255,.18) 37%,rgba(255,255,255,.06) 63%);
  background-size:400% 100%; animation:shimmer 1.4s ease-in-out infinite;
}

/* ===== Layout helpers ===== */
:root { --app-header: 160px; }
.vh-fit { height: calc(100vh - var(--app-header)); }
@media (max-width: 768px) { .vh-fit { height: auto; } }

/* ===== Clamp & Fade (옵션) ===== */
.line-clamp-10{
  display:-webkit-box; -webkit-line-clamp:10; -webkit-box-orient:vertical; overflow:hidden;
}
.fade-bottom{
  position:absolute; left:0; right:0; bottom:0; height:44px;
  border-bottom-left-radius:.5rem; border-bottom-right-radius:.5rem;
  background: linear-gradient(to bottom, rgba(11,15,25,0), rgba(11,15,25,0.95));
}
